# KrystalZhang-Handheld Business Watcher News App
A neat-designed iOS Newsfeed application which contains richful most-recent news about business stocks, built from scratch in UIkit, incorporated with newapi.org APIs to a custom UI and cache images and CGRect.
## ***[Copyright and Commercial Use Disclaimer](https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/README.md#please-carefully-read-licensemd-about-the-open-source-restrictions-and-the-personal-use-policy-of-this-project-under-gpl-30-license-any-commericial-uses-on-this-project-by-other-than-the-owner-krystalzhang612-or-the-authorized-users-and-organizations-including-unauthorized-modifications-forks-pull-requests-and-other-commercial-related-uses-will-be-subjected-to-copyright-violation-with-sebsequent-legal-concerns)***

‚è¨

### ***Please carefully read [LICENSE.md](https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/LICENSE) about the Open Source restrictions and the personal use policy of this project under [GPL-3.0 license](https://www.gnu.org/licenses/gpl-3.0.en.html), any commericial uses on this project by other than the owner [@KrystalZhang612](https://github.com/KrystalZhang612) or the authorized users and organizations, including unauthorized modifications, forks, pull requests, and other commercial-related uses will be subjected to copyright violation with sebsequent legal concerns.***

## Handheld Business Watcher News App Overview:
<p align = "center">
        <img src = "https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/Handheld%20Business%20Watcher%20News%20App%20overview1.png" width = "401.8181" height ="839.090"/>&nbsp; 
        <img src = "https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/Handheld%20Business%20Watcher%20News%20App%20overview2.png" width = "380" height ="841.8181"/> 
        <img src = "https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/Handheld%20Business%20Watcher%20News%20App%20overview3.png" width = "380" height ="841.8181"/>&nbsp;
        <img src = "https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/Handheld%20Business%20Watcher%20News%20App%20overview4.png" width = "380" height ="841.8181"/>
        <img src = "https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/Handheld%20Business%20Watcher%20News%20App%20overview5.png" width = "380" height ="841.8181"/>&nbsp;
        <img src ="https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/Handheld%20Business%20Watcher%20News%20App%20overview%206.png" width = "380" height ="841.8181"/>       
</p> 

# Build

[Method to Run & Test the Project Locally](https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/README.md#method-to-run--test-the-project-locally)<br/>
[Prerequisites & Setups](https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/README.md#prerequisites--setups)<br/> 
[Debugging&Troubleshooting](https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/README.md#debuggingtroubleshooting)<br/> 
[Synchronous Developing Notes](https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/README.md#synchronous-developing-notes)<br/> 
[Testing Result](https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/README.md#testing-results)<br/> 

# Contribution
[Author]()

# Compatibility
|   OS             | Supported          |
| -------          | ------------------ |
| iOS 10-iOS 15.5  | :white_check_mark: |
| iOS 16+          | :x:                |
| macOS Mojave     | ‚úÖ                 |
| macOS Monterey   | ‚úÖ                 |

# Method to Run & Test the Project Locally
### Download the entire project to local directory
### Xcode must be 13.4 and higher versions with all Xcode dependencies updated.
### Compatible with `iOS 10-iOS 15.5` 
### Not compatiable with `iOS 16+`
### Run the project, choose Simulator `iPhone 12 Pro Max iOS 14.4` for best compatiability.

# üõ†Ô∏è Developing Languages, Tools, and Techniques Needed
[Xcode 13.4.1 iOS 10-15.5 (iOS 16 causes Assertion Errors)](https://developer.apple.com/documentation/xcode-release-notes/xcode-13_4_1-release-notes)<br/>
Best testing simulator version to avoid errors: `iPhone12 Pro Max iOS 14.4`<br/>
[News API](https://newsapi.org/docs/get-started#search)<br/> 
[SwiftUI](https://developer.apple.com/xcode/swiftui/)<br/> 
[SafariServices Documentation](https://developer.apple.com/documentation/safariservices Swift 5 https://developer.apple.com/swift/)<br/>
`Note: Xcode project renaming rule: change info.plist File in Build Settings.`<br/>
<div>
        <img src ="https://github.com/devicons/devicon/blob/master/icons/xcode/xcode-plain.svg" title="Xcode" alt ="Xcode" width = "60" height= "60"/>&nbsp; 
        <img src = "https://github.com/devicons/devicon/blob/master/icons/swift/swift-original.svg" title = "Swift 5" alt = "Swift 5" width = "60" height= "60"/>&nbsp; 
        <img src = "https://github.com/KrystalZhang612/KrystalZhang-RepliFlix/blob/main/swift%20ui%20symbol%20logo.png" title = "SwiftUI" alt= "SwiftUI" width = "60" height= "60"/>&nbsp; 
        <img src = "https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/news%20api%20logo.png" title = "NewsAPI" alt = "NewsAPI" width = "210" height = "60"/>&nbsp; 
</div>

# Prerequisites & Setups
Obtain an API url from newsapi.org for the most-recent TechCrunch news.<br/> 
Create a new object to call APIs [APICaller.swift](https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/Handheld-Business-Watcher-News-App/APICaller.swift):<br/>
Handle potential errors with completion method, resume task:
```Swift
  public func getTopStories(completion: @escaping{...) {
...
  
if let error = error{
    completion(.failure(error))
}
else if let data = data {
    do {
        let result = try JSONDecoder().decode(String.self,
} catch {
        completion(.failure(error))
    }
   task.resume() 
```
Create some API responses models:
```Swift 
 struct APIResponse: Codable {
    let articles: [Article]
}
struct Article: Codable {
    let source: Source
    let title: String
    let description: String?
    let url: String?
    let urlToImage: String?
    let publishedAt: String
}
struct Source: Codable {
    let name: String }
```
# Synchronous Developing Notes

## ***Table View:***
```Swift 
 func tableView (_ tableView: UITableView, numberOfRowsInSection
section: Int)-> Int {
return 0 }
    func tableView (_ tableView: UITableView, cellForRowAt indexPath:
IndexPath) -> UITableViewCell {
        let cell = tableView.dequeueReusableCell(
            withIdentifier: "cell",
            for: indexPath
        )
        cell.textLabel?.text = "Something"
        return cell
}
    func tableView(_ tableView: UITableView, didSelectRowAt indexPath:
IndexPath) {
        tableView.deselectRow(at: indexPath, animated: true)
    }
```
Also create a frame for table view:
```Swift 
 override func viewDidLayoutSubviews() {
        super.viewDidLayoutSubviews()
        tableView.frame = view.bounds
}
```
Create a new Cocoa Touch file [NewsTableViewCell.swift](https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/Handheld-Business-Watcher-News-App/NewsTableViewCell.swift):
```Swift 
 class NewsTableViewCell: UITableViewCell {
    static let identifier = "NewsTableViewCell"
    override init(style: UITableViewCell.CellStyle, reuseIdentifier:
String?){
        super.init(style: style, reuseIdentifier: reuseIdentifier)
    }
    required init?(coder: NSCoder){
        fatalError()
    }
    override func layoutSubviews(){
            super.layoutSubviews()
    }
    override func prepareForReuse(){
        super.prepareForReuse()
}
```

Configure the cell with viewModel:<br/>
Create viewModel first:
```Swift 
 class NewsTableViewCellViewModel {
    let title: String
    let subtitle: String
    let imageURL: URL?
    let imageData: Data? = nil
    init(
        title: String,
        subtitle: String,
        imageURL: URL?
){
self.title = title self.subtitle = subtitle self.imageURL = imageURL
}
```
Then add viewModel configuration:
```Swift 
 func configure(with viewModel: NewsTableViewCellViewModel){
        newsTitleLabel.text = viewModel.title
        subtitleLabel.text = viewModel.subtitle
```
Also configure the images:
```Swift 
 if let data = viewModel.imageData {
            newsImageView.image = UIImage(data: data)
}
```
Now the top 20 news headlines fetched and loaded successfully:<br/> 
[news headlines fetched.PNG](https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/news%20headlines%20fetched.png)<br/>
Fetch images by downloading the urls:
```Swift 
 //fetch
 URLSession.shared.dataTask(with: url) { [weak self] data, _, error in
guard let data = data, error == nil else {
                   return
                }
                viewModel.imageData = data
                DispatchQueue.main.async {
                    self?.newsImageView.image = UIImage(data: data)
                }
}.resume()
```
Now news headlines, details and images along are properly aligned:<br/>
[news details and images are properly aligned.PNG](https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/news%20details%20and%20images%20are%20properly%20aligned.png)<br/>
Import Safari Service:<br/>
```Swift 
import SafariServices
```
Make Safari service presented:
```Swift 
 func tableView(_ tableView: UITableView, didSelectRowAt indexPath:
IndexPath) {
        tableView.deselectRow(at: indexPath, animated: true)
        let article = articles[indexPath.row)
        guard let url = URL(string: article.url ?? "") else {
return }
        let vc = SFSafariViewController(url: url)
        present(vc, animated: true)
    }
```
Now all the visible news are clickable and will redirect us to its safari viewing page:<br/>
[redirected to safari viewer.PNG](https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/redirected%20to%20safari%20viewer.png)

# Debugging&Troubleshooting
- ERROR: Title not showing in Xcode simulator. DEBUGGING: In `Main.storyboard`,
 `Editor-> Embed in -> Navigation Controller`.
- Fatal Error:
Error Message: `[Assert] UINavigationBar decoded as unlocked for
UINavigationController, or navigationBar delegate set up incorrectly.
Inconsistent configuration may cause problems.
navigationController=<UINavigationController: 0x7f7e5a00d400>,
navigationBar=<UINavigationBar: 0x7f7e5d80ae60; frame = (0 47; 0 50);
opaque = NO; autoresize = W; layer = <CALayer: 0x600002ab6f80>>
delegate=0x7f7e5a00d400` DEBUGGING: iOS 16 incompatibility error. Try downloading Simulator packages <= iOS 15.5. 
 
 # Testing Results
 [news headlines fetched.PNG](https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/news%20headlines%20fetched.png)<br/>
 [news details and images are properly aligned.PNG](https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/news%20details%20and%20images%20are%20properly%20aligned.png)<br/>
 [redirected to safari viewer.PNG](https://github.com/KrystalZhang612/KrystalZhang-Handheld-Business-Watcher-News-App/blob/main/redirected%20to%20safari%20viewer.png)

# Author
Krystal Zhang 
https://github.com/KrystalZhang612<hr>
*This file was generated by [RepliFlixApp-readme](https://github.com/KrystalZhang612/RepliFlix/blob/main/README.md), on September 25, 2022*



 
 
 
 
 

